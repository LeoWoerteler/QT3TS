<?xml version="1.0" encoding="UTF-8"?>
<test-set xmlns="http://www.w3.org/2010/09/qt-fots-catalog" name="fn-fold-right">
    <description>Tests for the fn:fold-left() higher-order function introduced in XPath 3.0</description>
    <link type="spec" document="http://www.w3.org/TR/xpath-functions-30/" idref="func-fold-right"/>
    <dependency type="spec" value="XP30+ XQ30+"/>
    <test-case name="fold-right-001">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>fold-right(function($a, $b) { $a + $b }, 0, 1 to 5)</test>
        <result>
                <assert-eq>15</assert-eq>
        </result>
    </test-case>
    <test-case name="fold-right-002">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>fold-right(function($a, $b) { $a * $b }, 1, (2,3,5,7))</test>
        <result>
                <assert-eq>210</assert-eq>
        </result>
    </test-case>
    <test-case name="fold-right-003">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>fold-right(function($a, $b) { $a or $b }, false(), (true(), false(), false()))</test>
        <result>
                <assert-true/>
        </result>
    </test-case>
    <test-case name="fold-right-004">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>fold-right(function($a, $b) { $a and $b }, false(), (true(), false(), false()))</test>
        <result>
                <assert-false/>
        </result>
    </test-case>
    <test-case name="fold-right-005">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>let $f := function($a, $b){($b, $a)} return fold-right($f, (), 1 to 5)</test>
        <result>
                <assert-deep-eq>5,4,3,2,1</assert-deep-eq>
        </result>
    </test-case>
    <test-case name="fold-right-006">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>fold-right(fn:concat(?, ".", ?), "", 1 to 5)</test>
        <result>
                <assert-eq>'1.2.3.4.5.'</assert-eq>
        </result>
    </test-case>
    <test-case name="fold-right-007">
        <description>
            Higher Order Functions 
            fold-right function 
            Author - Michael Kay, Saxonica 
        </description>
        <created by="Michael Kay" on="2010-02-10"/>
        <environment ref="empty"/>
        <test>fold-right(fn:concat("$f(", ?, ", ", ?, ")"), "$zero", 1 to 5)</test>
        <result>
                <assert-string-value>$f(1, $f(2, $f(3, $f(4, $f(5, $zero)))))</assert-string-value>
        </result>
    </test-case>
    
</test-set>
