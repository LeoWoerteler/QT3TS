<?xml version="1.0" encoding="us-ascii"?>
<test-set xmlns="http://www.w3.org/2010/09/qt-fots-catalog" name="fn-fold-left">
   <description>Tests for the fn:function-lookup() function introduced in XPath 3.0</description>
   <link type="spec" document="http://www.w3.org/TR/xpath-functions-30/"
         idref="func-function-lookup"/>
   <dependency type="spec" value="XP30+ XQ30+"/>
   <test-case name="function-lookup-001">
      <description>Applied to a built-in function</description>
      <created by="Michael Kay" on="2011-10-27"/>
      <environment ref="empty"/>
      <test>function-lookup(QName("http://www.w3.org/2005/xpath-functions", "abs"), 1)(-3)</test>
      <result>
         <assert-eq>3</assert-eq>
      </result>
   </test-case>
   <test-case name="function-lookup-002">
      <description>Applied to a built-in function with variable arity</description>
      <created by="Michael Kay" on="2011-10-27"/>
      <environment ref="empty"/>
      <test>function-lookup(QName("http://www.w3.org/2005/xpath-functions", "concat"), 3)("a", "b", "c")</test>
      <result>
         <assert-string-value>abc</assert-string-value>
      </result>
   </test-case>
   <test-case name="function-lookup-003">
      <description>Applied to a built-in function with zero arity</description>
      <created by="Michael Kay" on="2011-10-27"/>
      <environment ref="empty"/>
      <test>function-lookup(QName("http://www.w3.org/2005/xpath-functions/math", "pi"), 0)() idiv 1</test>
      <result>
         <assert-eq>3</assert-eq>
      </result>
   </test-case>
   <test-case name="function-lookup-004">
      <description>Applied to a constructor function</description>
      <created by="Michael Kay" on="2011-10-27"/>
      <environment ref="empty"/>
      <test>function-lookup(QName("http://www.w3.org/2001/XMLSchema", "time"), 1)("12:30:00Z")</test>
      <result>
         <assert-eq>xs:time("12:30:00Z")</assert-eq>
      </result>
   </test-case>
   <test-case name="function-lookup-005">
      <description>Applied to a user-defined function</description>
      <created by="Michael Kay" on="2011-10-27"/>
      <dependency type="spec" value="XQ30+"/>
      <environment ref="empty"/>
      <test><![CDATA[
        xquery version "3.0";
      	declare function local:square($i as xs:integer) as xs:integer { $i*$i };
        function-lookup(QName("http://www.w3.org/2005/xquery-local-functions", "square"), 1)(13)
      ]]></test>
      <result>
         <assert-eq>169</assert-eq>
      </result>
   </test-case>
</test-set>