<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script language="JavaScript" type="text/javascript">
         function doMenu(item) {
         obj=document.getElementById(item);
         col=document.getElementById("x" + item);
         if (obj.style.display=="none") { obj.style.display="block"; col.innerHTML="[-]"; }
         else { obj.style.display="none"; col.innerHTML="[+]"; } }
      </script><script language="JavaScript" type="text/javascript">
          (document.getElementById) ? domNode = true: domNode = false;
          var current = null;
          
          function makeVisible(item) {
               if(current != null) {
                  makeInvisible(current);
              }
              if (domNode) {
                  document.getElementById(item).style.visibility = 'visible';
                  current = item;
                  
              }
          }
          
          function makeInvisible(item) {
              if (domNode) {
                  document.getElementById(item).style.visibility = 'hidden';
                  current = item;
              }
          }
      </script></head>
   <body><button type="button" onclick="window.location='../report.html'">Back to Main
         Report</button><table border="0" width="100%">
         <tr>
            <td>
               <table align="right">
                  <tr>
                     <td>Legend:&nbsp;&nbsp;&nbsp;&nbsp;</td>
                     <td>
                        <table frame="border">
                           <tr>
                              <td bgcolor="mediumseagreen">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                           </tr>
                        </table>
                     </td>
                     <td>passed</td>
                     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                     <td>
                        <table frame="border">
                           <tr>
                              <td bgcolor="palegreen">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                           </tr>
                        </table>
                     </td>
                     <td>almost passed<br>(â‰¥ 98%)
                     </td>
                     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                     <td>
                        <table frame="border">
                           <tr>
                              <td bgcolor="coral">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                           </tr>
                        </table>
                     </td>
                     <td>failed</td>
                     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                     <td>
                        <table frame="border">
                           <tr>
                              <td bgcolor="white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                           </tr>
                        </table>
                     </td>
                     <td>untested</td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
      <table frame="hsides" rules="groups" border="1" bordercolor="black" bgcolor="lightcyan" cellpadding="2">
         <thead>
            <tr>
               <td></td>
               <td colspan="7" style="text-align:center"><b>Implementations</b></td>
            </tr>
            <tr>
               <th>Tests</th>
               <th valign="top"><a href="../results_BaseX_8.5 beta_d3.html">BaseX 8.5 beta</a><br>XQ31<br><font size="-1">(QT3 vCVS)</font></th>
               <th valign="top"><a href="../results_Saxon-EE_9.7.0.11_d4.html">Saxon-EE 9.7.0.11</a><br>XP31<br><font size="-1">(QT3 v0.6)</font></th>
               <th valign="top"><a href="../results_Saxon-EE_9.7.0.11_d6.html">Saxon-EE 9.7.0.11</a><br>XQ31<br><font size="-1">(QT3 v0.6)</font></th>
               <th valign="top"><a href="../results_XmlPrime_4.0.0.16079_d5.html">XmlPrime 4.0.0.16079</a><br>XP31<br><font size="-1">(QT3 vCVS)</font></th>
               <th valign="top"><a href="../results_XmlPrime_4.0.0.26293_d7.html">XmlPrime 4.0.0.26293</a><br>XQ31<br><font size="-1">(QT3 vCVS)</font></th>
               <th valign="top"><a href="../results_XmlPrime_4.0.0.27704_d8.html">XmlPrime 4.0.0.27704</a><br>XQX31<br><font size="-1">(QT3 vCVS)</font></th>
               <th valign="top"><a href="../results_anonymous_r3721380_d2.html">anonymous r3721380</a><br>XQ31<br><font size="-1">(QT3 vCVS)</font></th>
            </tr>
         </thead>
         <tr>
            <td valign="top">op-same-key<b>*</b></td>
            <td align="center" bgcolor="coral">26/27</td>
            <td align="center" bgcolor="mediumseagreen">9/9</td>
            <td align="center" bgcolor="coral">24/25</td>
            <td align="center" bgcolor="mediumseagreen">9/9</td>
            <td align="center" bgcolor="mediumseagreen">25/25</td>
            <td align="center" bgcolor="palegreen">25/0</td>
            <td align="center" bgcolor="coral">22/25</td>
            <td align="center" bgcolor="">0/7</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-001">same-key-001</a><a href="#xsame-key-001" onmousedown="makeVisible('same-key-001');" onmouseover="makeVisible('same-key-001');" id="xsame-key-001">[+]</a><font size="-1">
                  <div id="same-key-001" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-001')">&nbsp;X&nbsp;</span><b>same-key-001:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map:merge((
                           map:entry(xs:untypedAtomic("abc"), 1),
                           map:entry(xs:string("abc"), 1),
                           map:entry(xs:anyURI("abc"), 1),
                           map:entry(xs:string("xyz"), 1),
                           map:entry(xs:untypedAtomic("xyz"), 1),
                           map:entry(QName((),"abc"), 1)
                           ), map{"duplicates":"use-last"})
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-002">same-key-002</a><a href="#xsame-key-002" onmousedown="makeVisible('same-key-002');" onmouseover="makeVisible('same-key-002');" id="xsame-key-002">[+]</a><font size="-1">
                  <div id="same-key-002" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-002')">&nbsp;X&nbsp;</span><b>same-key-002:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           declare default collation "http://www.w3.org/2005/xpath-functions/collation/html-ascii-case-insensitive";
                           let $keys := ("ABC", "abc", "aBc")
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="tomato">fail</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-003">same-key-003</a><a href="#xsame-key-003" onmousedown="makeVisible('same-key-003');" onmouseover="makeVisible('same-key-003');" id="xsame-key-003">[+]</a><font size="-1">
                  <div id="same-key-003" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-003')">&nbsp;X&nbsp;</span><b>same-key-003:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map {
                           "ab" || "c" : 1,
                           xs:anyURI("abc") : 2
                           }
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-004">same-key-004</a><a href="#xsame-key-004" onmousedown="makeVisible('same-key-004');" onmouseover="makeVisible('same-key-004');" id="xsame-key-004">[+]</a><font size="-1">
                  <div id="same-key-004" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-004')">&nbsp;X&nbsp;</span><b>same-key-004:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map:merge((
                           map:entry(xs:double('NaN'), 1),
                           map:entry(xs:double('INF'), 2),
                           map:entry(xs:double('-INF'), 3),
                           map:entry(xs:float('NaN'), 1),
                           map:entry(xs:float('INF'), 2),
                           map:entry(xs:float('-INF'), 3)
                           ), map{"duplicates":"use-last"})
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-005">same-key-005</a><a href="#xsame-key-005" onmousedown="makeVisible('same-key-005');" onmouseover="makeVisible('same-key-005');" id="xsame-key-005">[+]</a><font size="-1">
                  <div id="same-key-005" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-005')">&nbsp;X&nbsp;</span><b>same-key-005:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map:merge((
                           map:entry(xs:double('NaN'), 1),
                           map:entry(xs:double('INF'), 2),
                           map:entry(xs:double('-INF'), 3),
                           map:entry(xs:float('NaN'), 1),
                           map:entry(xs:float('INF'), 2),
                           map:entry(xs:float('-INF'), 3)
                           ), map{"duplicates":"use-last"})
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-006">same-key-006</a><a href="#xsame-key-006" onmousedown="makeVisible('same-key-006');" onmouseover="makeVisible('same-key-006');" id="xsame-key-006">[+]</a><font size="-1">
                  <div id="same-key-006" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-006')">&nbsp;X&nbsp;</span><b>same-key-006:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $keys := (
                           xs:decimal("1.00000000000000001"),
                           xs:decimal("1.00000000000000002"),
                           xs:double("1.0")
                           )
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k              
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-007">same-key-007</a><a href="#xsame-key-007" onmousedown="makeVisible('same-key-007');" onmouseover="makeVisible('same-key-007');" id="xsame-key-007">[+]</a><font size="-1">
                  <div id="same-key-007" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-007')">&nbsp;X&nbsp;</span><b>same-key-007:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map {
                           xs:double("1.1") : 1
                           }
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="tomato">fail</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-008">same-key-008</a><a href="#xsame-key-008" onmousedown="makeVisible('same-key-008');" onmouseover="makeVisible('same-key-008');" id="xsame-key-008">[+]</a><font size="-1">
                  <div id="same-key-008" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-008')">&nbsp;X&nbsp;</span><b>same-key-008:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>feature = arbitraryPrecisionDecimal<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map {
                           1 div 3 cast as xs:float : "float",
                           1 div 3 cast as xs:double : "double",
                           1 div 3 cast as xs:integer : "integer"
                           }
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>Dependency not satisfied</p></font></div>
            </td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>Dependency not satisfied</p></font></div>
            </td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-009">same-key-009</a><a href="#xsame-key-009" onmousedown="makeVisible('same-key-009');" onmouseover="makeVisible('same-key-009');" id="xsame-key-009">[+]</a><font size="-1">
                  <div id="same-key-009" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-009')">&nbsp;X&nbsp;</span><b>same-key-009:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map { xs:integer("16777218") : 1 }
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-010">same-key-010</a><a href="#xsame-key-010" onmousedown="makeVisible('same-key-010');" onmouseover="makeVisible('same-key-010');" id="xsame-key-010">[+]</a><font size="-1">
                  <div id="same-key-010" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-010')">&nbsp;X&nbsp;</span><b>same-key-010:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           for $i in -100000 to 100000
                           let $f := xs:float($i)
                           let $m := map { $f : 1 }
                           where not(map:contains($m, $f)) or
                           not(map:contains($m, $f cast as xs:decimal))
                           return error((), "i=" || $i)
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-011">same-key-011</a><a href="#xsame-key-011" onmousedown="makeVisible('same-key-011');" onmouseover="makeVisible('same-key-011');" id="xsame-key-011">[+]</a><font size="-1">
                  <div id="same-key-011" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-011')">&nbsp;X&nbsp;</span><b>same-key-011:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           for $i in -100000 to 100000
                           let $d := xs:double($i)
                           let $m := map { $d : 1 }
                           where not(map:contains($m, $d)) or
                           not(map:contains($m, $d cast as xs:decimal))
                           return error((), "i=" || $i)
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-012">same-key-012</a><a href="#xsame-key-012" onmousedown="makeVisible('same-key-012');" onmouseover="makeVisible('same-key-012');" id="xsame-key-012">[+]</a><font size="-1">
                  <div id="same-key-012" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-012')">&nbsp;X&nbsp;</span><b>same-key-012:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           for $i in -100000 to 100000
                           let $m := map { $i : 1 }
                           where not(map:contains($m, $i)) or
                           not(map:contains($m, $i cast as xs:decimal))
                           return error((), "i=" || $i)
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-013">same-key-013</a><a href="#xsame-key-013" onmousedown="makeVisible('same-key-013');" onmouseover="makeVisible('same-key-013');" id="xsame-key-013">[+]</a><font size="-1">
                  <div id="same-key-013" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-013')">&nbsp;X&nbsp;</span><b>same-key-013:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $without_tz := xs:dateTime('2015-04-08T01:30:00') 
                           let $with_tz := adjust-dateTime-to-timezone($without_tz, implicit-timezone())
                           let $keys := (xs:dateTime('2015-04-08T02:30:00'), $without_tz, $with_tz)
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-014">same-key-014</a><a href="#xsame-key-014" onmousedown="makeVisible('same-key-014');" onmouseover="makeVisible('same-key-014');" id="xsame-key-014">[+]</a><font size="-1">
                  <div id="same-key-014" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-014')">&nbsp;X&nbsp;</span><b>same-key-014:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $without_tz := xs:date('2015-04-08') 
                           let $with_tz := adjust-date-to-timezone($without_tz, implicit-timezone())
                           let $keys := (xs:date('2015-04-09'), $without_tz, $with_tz)
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-015">same-key-015</a><a href="#xsame-key-015" onmousedown="makeVisible('same-key-015');" onmouseover="makeVisible('same-key-015');" id="xsame-key-015">[+]</a><font size="-1">
                  <div id="same-key-015" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-015')">&nbsp;X&nbsp;</span><b>same-key-015:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $without_tz := xs:time('01:30:00') 
                           let $with_tz := adjust-time-to-timezone($without_tz, implicit-timezone())
                           let $keys := (xs:time('02:30:00'), $without_tz, $with_tz)
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-016">same-key-016</a><a href="#xsame-key-016" onmousedown="makeVisible('same-key-016');" onmouseover="makeVisible('same-key-016');" id="xsame-key-016">[+]</a><font size="-1">
                  <div id="same-key-016" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-016')">&nbsp;X&nbsp;</span><b>same-key-016:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $date := adjust-date-to-timezone(xs:date("2015-10-10"), implicit-timezone())
                           let $keys := ($date cast as xs:gYear, xs:gYear("2015"), xs:gYear("2014"))
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-017">same-key-017</a><a href="#xsame-key-017" onmousedown="makeVisible('same-key-017');" onmouseover="makeVisible('same-key-017');" id="xsame-key-017">[+]</a><font size="-1">
                  <div id="same-key-017" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-017')">&nbsp;X&nbsp;</span><b>same-key-017:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $date := adjust-date-to-timezone(xs:date("2015-10-10"), implicit-timezone())
                           let $keys := ($date cast as xs:gYearMonth, xs:gYearMonth("2015-10"), xs:gYearMonth("2015-11"))
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-018">same-key-018</a><a href="#xsame-key-018" onmousedown="makeVisible('same-key-018');" onmouseover="makeVisible('same-key-018');" id="xsame-key-018">[+]</a><font size="-1">
                  <div id="same-key-018" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-018')">&nbsp;X&nbsp;</span><b>same-key-018:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $date := adjust-date-to-timezone(xs:date("2015-10-10"), implicit-timezone())
                           let $keys := ($date cast as xs:gMonth, xs:gMonth("--10"), xs:gMonth("--11"))
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-019">same-key-019</a><a href="#xsame-key-019" onmousedown="makeVisible('same-key-019');" onmouseover="makeVisible('same-key-019');" id="xsame-key-019">[+]</a><font size="-1">
                  <div id="same-key-019" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-019')">&nbsp;X&nbsp;</span><b>same-key-019:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $date := adjust-date-to-timezone(xs:date("2015-10-10"), implicit-timezone())
                           let $keys := ($date cast as xs:gMonthDay, xs:gMonthDay("--10-10"), xs:gMonthDay("--11-11"))
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-020">same-key-020</a><a href="#xsame-key-020" onmousedown="makeVisible('same-key-020');" onmouseover="makeVisible('same-key-020');" id="xsame-key-020">[+]</a><font size="-1">
                  <div id="same-key-020" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-020')">&nbsp;X&nbsp;</span><b>same-key-020:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $date := adjust-date-to-timezone(xs:date("2015-10-10"), implicit-timezone())
                           let $keys := ($date cast as xs:gDay, xs:gDay("---10"), xs:gDay("---11"))
                           return [
                           map:merge($keys ! map:entry(., position())),
                           distinct-values($keys),
                           for $k in $keys group by $k return $k             
                           ]
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-021">same-key-021</a><a href="#xsame-key-021" onmousedown="makeVisible('same-key-021');" onmouseover="makeVisible('same-key-021');" id="xsame-key-021">[+]</a><font size="-1">
                  <div id="same-key-021" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-021')">&nbsp;X&nbsp;</span><b>same-key-021:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map {
                           fn:true() : 1,
                           fn:false() : 2,
                           xs:hexBinary("ff") : 3,
                           xs:base64Binary(xs:hexBinary("ff")) : 4,
                           xs:duration("P12M") : 5,
                           QName((), "abc") : 6,
                           QName("http://example.org", "abc") : 7
                           }
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-022">same-key-022</a><a href="#xsame-key-022" onmousedown="makeVisible('same-key-022');" onmouseover="makeVisible('same-key-022');" id="xsame-key-022">[+]</a><font size="-1">
                  <div id="same-key-022" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-022')">&nbsp;X&nbsp;</span><b>same-key-022:</b><br><br><b>Created on: </b>2015-07-22<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $ns := "http://example.org",
                           $keys := (QName($ns, "foo"), QName($ns, "ns:foo"), QName($ns, "ns2:foo"))
                           return
                           map:merge($keys ! map:entry(., position()), map{"duplicates":"use-last"})
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-023">same-key-023</a><a href="#xsame-key-023" onmousedown="makeVisible('same-key-023');" onmouseover="makeVisible('same-key-023');" id="xsame-key-023">[+]</a><font size="-1">
                  <div id="same-key-023" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-023')">&nbsp;X&nbsp;</span><b>same-key-023:</b><br><br><b>Created on: </b>2016-05-18<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $keys :=
                           let $range := 48 to 122
                           for $c1 in $range, $c2 in $range, $c3 in $range
                           return codepoints-to-string(($c1, $c2, $c3))
                           
                           let $map := 
                           map:merge(($keys,$keys) ! map:entry(.,.))
                           
                           return
                           map:size($map) eq count($keys) and 
                           (
                           every $key in $keys 
                           satisfies 
                           $map($key) eq $key and 
                           not(map:contains(map:remove($map, $key), $key)) and
                           map:get(map:put($map, $key, "x"), $key) eq "x"      
                           )
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-024">same-key-024</a><a href="#xsame-key-024" onmousedown="makeVisible('same-key-024');" onmouseover="makeVisible('same-key-024');" id="xsame-key-024">[+]</a><font size="-1">
                  <div id="same-key-024" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-024')">&nbsp;X&nbsp;</span><b>same-key-024:</b><br><br><b>Created on: </b>2016-05-18<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $keys :=
                           let $range := 48 to 122
                           for $c1 in $range, $c2 in $range
                           let $i := $c1*1000 + $c2
                           return (
                           codepoints-to-string(($c1, $c2)),
                           switch($i mod 3)
                           case 0 return xs:integer($i)
                           case 1 return xs:decimal($i)
                           case 2 return xs:double($i)
                           default return error()
                           )
                           
                           let $map :=
                           map:merge(($keys,$keys) ! map:entry(.,.), map{"duplicates":"use-last"})
                           
                           return
                           map:size($map) eq count($keys) and
                           (
                           every $key in $keys
                           satisfies
                           $map($key) eq $key and
                           not(map:contains(map:remove($map, $key), $key)) and
                           map:get(map:put($map, $key, "x"), $key) eq "x"
                           )
                           
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-025">same-key-025</a><a href="#xsame-key-025" onmousedown="makeVisible('same-key-025');" onmouseover="makeVisible('same-key-025');" id="xsame-key-025">[+]</a><font size="-1">
                  <div id="same-key-025" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-025')">&nbsp;X&nbsp;</span><b>same-key-025:</b><br><br><b>Created on: </b>2016-05-18<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>feature = arbitraryPrecisionDecimal<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           let $keys := (1 to 10000) ! xs:float(1 div .)
                           let $map := map:merge(
                           $keys ! (
                           map:entry(.,.), 
                           map:entry(-.,-.)
                           )
                           )
                           return 
                           map:size($map) eq 20000 and
                           (
                           every $key in $keys 
                           satisfies $map($key) eq $key and
                           $map(xs:double($key)) eq $key and
                           $map(xs:decimal($key)) eq $key
                           )
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>Dependency not satisfied</p></font></div>
            </td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-026">same-key-026</a><a href="#xsame-key-026" onmousedown="makeVisible('same-key-026');" onmouseover="makeVisible('same-key-026');" id="xsame-key-026">[+]</a><font size="-1">
                  <div id="same-key-026" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-026')">&nbsp;X&nbsp;</span><b>same-key-026:</b><br><br><b>Created on: </b>2016-05-18<br><b>Spec Dependencies</b>:<br>spec = XQ31+<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           declare function local:type($n) {
                           if ($n instance of xs:integer) then "integer"
                           else if ($n instance of xs:double) then "double" 
                           else if ($n instance of xs:float) then "float"
                           else error()
                           };
                           
                           let $values := (
                           xs:integer("9223372036854773760"), xs:double("9.223372036854774E18"), 
                           xs:integer("9223372036854773761"),
                           xs:integer("9223372036854774784"), xs:double("9.223372036854775E18"), 
                           xs:integer("9223372036854774785"),
                           xs:integer("9223372036854775808"), xs:double("9.223372036854776E18"), xs:float("9.223372E18"),
                           
                           xs:integer("9223372036854775809"),
                           xs:integer("9223372036854777856"), xs:double("9.223372036854778E18")
                           )
                           let $m := map:merge(
                           for $i in $values
                           return
                           map:entry($i,$i)
                           , map{"duplicates":"use-last"})
                           let $contents := 
                           string-join(for $v at $p in $values return
                           ($p || " $m(" || local:type($v) || ") == " || local:type($m($v))), 
                           ", "
                           )
                           return
                           ("Size: " || map:size($m) || ", " || $contents)
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">n/a
               <div align="left" width="20"><font size="1">
                     <p>notXP31</p></font></div>
            </td>
            <td valign="top" bgcolor="tomato">fail
               <div align="left" width="20"><font size="1">
                     <p>Expected error:FORG0001, got Size: 7, 1 $m(integer) == double, 2 $m(double) == integer,
                        3 $m(integer) == inte...
                     </p></font></div>
            </td>
            <td valign="top" bgcolor="white">n/a</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="white">disputed</td>
         </tr>
         <tr>
            <td valign="top">&nbsp;&nbsp;&nbsp;&nbsp;<a name="#xsame-key-027">same-key-027</a><a href="#xsame-key-027" onmousedown="makeVisible('same-key-027');" onmouseover="makeVisible('same-key-027');" id="xsame-key-027">[+]</a><font size="-1">
                  <div id="same-key-027" style="position:absolute; left:20; width:410px; visibility:hidden"><font face="verdana, arial, helvetica, sans-serif" size="2">
                        <div style="float:left; background-color:white; padding:3px; border:1px solid black"><span style="float:right; background-color:gray; color:white; font-weight:bold; width='20px'; text-align:center; cursor:pointer" onclick="makeInvisible('same-key-027')">&nbsp;X&nbsp;</span><b>same-key-027:</b><br><br><b>Created on: </b>2016-07-28<br><b>Spec Dependencies</b>:<br>spec = XP31+ XQ31<br>spec = XP31+ XQ31+ XT30+<br><br><b>Test</b>: 
                           map{ xs:time('17:00:00Z'):1, xs:time('12:00:00-05:00'):2 }
                           
                        </div></font></div></font></td>
            <td valign="top" bgcolor="lightgrey">no result</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="palegreen">pass</td>
            <td valign="top" bgcolor="lightgrey">no result</td>
         </tr>
      </table>
   </body>
</html>