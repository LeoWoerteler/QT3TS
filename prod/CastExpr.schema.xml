<?xml version="1.0" encoding="us-ascii"?>
<test-set xmlns="http://www.w3.org/2010/09/qt-fots-catalog" name="prod-CastExpr.schema">
   <description>Tests for the CastExpr production with user-defined types</description>
   <link type="spec" document="http://www.w3.org/TR/xquery-30/"
         idref="doc-xquery30-CastExpr.schema"/>
   <link type="spec" document="FuncOps" section-number="5.1"
         idref="constructor-functions-for-xsd-types"/>
         
   <dependency type="spec" value="XQ10+"/>
   <dependency type="feature" value="schemaImport"/>
   
   <environment name="user-defined-types">
      <schema uri="http://www.w3.org/XQueryTest/userDefinedTypes" file="../docs/userdefined.xsd">
         <description>A schema user defined types and constructor tests</description>
         <created by="Anonymous" on="2006-04-03"/>
      </schema>   
   </environment>

   <environment name="union-List-defined-Types" >
     <schema uri="http://www.w3.org/XQueryTest/unionListDefined" file="SchemaImport/unionListDefined.xsd">
       <description>A Schema of union and list defined types</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
     </schema>
   </environment>

   <test-case name="qname-cast-1">
      <description> Evaluates casting an xs:QName type to another xs:QName type. </description>
      <created by="Carmelo Montanez" on="2006-04-13"/>
      <test>xs:QName("value1") cast as xs:QName</test>
      <result>
         <assert-string-value>value1</assert-string-value>
      </result>
   </test-case>

   <test-case name="qname-cast-2">
      <description> Evaluates casting a type derived from an xs:QName to an xs:QName type. </description>
      <created by="Carmelo Montanez" on="2006-04-13"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $var := myType:QNameBased("value1") return $var cast as xs:QName</test>
      <result>
         <assert-string-value>value1</assert-string-value>
      </result>
   </test-case>

   <test-case name="qname-cast-3">
      <description> Evaluates casting a type derived from an xs:QName to a type derived from xs:QName. </description>
      <created by="Carmelo Montanez" on="2006-04-13"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $var := myType:QNameBased("value1") return $var cast as myType:QNameBased</test>
      <result>
         <assert-string-value>value1</assert-string-value>
      </result>
   </test-case>

   <test-case name="qname-cast-4">
      <description> Evaluates casting a xs:QName type to a type derived from xs:QName. </description>
      <created by="Carmelo Montanez" on="2006-04-13"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $var := xs:QName("value1") return $var cast as myType:QNameBased</test>
      <result>
            <assert-string-value>value1</assert-string-value>
      </result>
   </test-case>

   <test-case name="notation-cast-2">
      <description> Evaluates casting a type derived from an xs:NOTATION to an xs:NOTATION type. </description>
      <created by="Carmelo Montanez" on="2006-04-13"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType = "http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:NOTATIONBased("myType:value1") cast as xs:NOTATION</test>
      <result>
            <error code="XPST0080"/>
      </result>
   </test-case>

   <test-case name="notation-cast-3">
      <description> Evaluates casting a type derived from an xs:NOTATION to a type derived from xs:NOTATION. </description>
      <created by="Carmelo Montanez" on="2006-04-13"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType = "http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:NOTATIONBased("myType:value1") cast as myType:NOTATIONBased</test>
      <result>
            <assert-string-value>myType:value1</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds1">
      <description> Simple test for evaluation of a simple expression casted as xs:integer - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:integer</test>
      <result>
         <assert-eq>12678967543233</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds2">
      <description> Simple test for evaluation of a simple expression casted as xs:float - xml data source - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; 
      ((/atomic:root/atomic:integer) cast as xs:float) eq xs:float(12678967543233)</test>
      <result>
         <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds3">
      <description> Simple test for evaluation of a simple expression casted as xs:boolean - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; 
      (/atomic:root/atomic:integer) cast as xs:boolean</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds4">
      <description> Simple test for evaluation of a simple expression casted as xs:double - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:double</test>
      <result>
         <assert-string-value>1.2678967543233E13</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds5">
      <description> Simple test for evaluation of a simple expression casted as xs:decimal - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:decimal</test>
      <result>
         <assert-eq>12678967543233</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds6">
      <description> Simple test for evaluation of a simple expression casted as xs:string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:string</test>
      <result>
         <assert-string-value>12678967543233</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds7">
      <description> Simple test for evaluation a string casted as xs:string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:string) cast as xs:string</test>
      <result>
         <assert-string-value>A String Function</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds8">
      <description> Simple test for casting a float as a float - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; ((/atomic:root/atomic:float) cast as xs:float) eq xs:float(1267.43233E12)</test>
      <result>
         <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds9">
      <description> Simple test for casting a float as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; ((/atomic:root/atomic:float) cast as xs:string)</test>
      <result>
         <any-of>
            <assert-string-value>1.26743233E15</assert-string-value>
            <assert-string-value>1.2674324E15</assert-string-value>
         </any-of>
      </result>
   </test-case>

   <test-case name="casthcds10">
      <description> Simple test for casting a float as a double </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; xs:float(((/atomic:root/atomic:float) cast as xs:double)) eq xs:float(1267.43233E12)</test>
      <result>
         <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds11">
      <description> Simple test for casting a float as a boolean </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:float) cast as xs:boolean</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds12">
      <description> Simple test for casting a double as a double - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:double) cast as xs:double</test>
      <result>
         <assert-string-value>1.26743233E15</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds13">
      <description> Simple test for casting a double as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; ((/atomic:root/atomic:double) cast as xs:string) eq xs:string("A String Function")</test>
      <result>
         <assert-false/>
      </result>
   </test-case>

   <test-case name="casthcds14">
      <description> Simple test for casting a double as a float - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; ((/atomic:root/atomic:double) cast as xs:float) eq xs:float(1267.43233E12)</test>
      <result>
         <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds15">
      <description> Simple test for casting a double as a boolean - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:double) cast as xs:boolean</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds16">
      <description> Simple test for casting a decimal as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:decimal) cast as xs:string</test>
      <result>
         <assert-string-value>12678967.543233</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds17">
      <description> Simple test for casting a decimal as a float - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:decimal) cast as xs:float</test>
      <result>
         <assert-string-value>1.2678968E7</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds18">
      <description> Simple test for casting a decimal as a double - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:decimal) cast as xs:double</test>
      <result>
         <assert-string-value>1.2678967543233E7</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds19">
      <description> Simple test for casting a decimal as a decimal - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:decimal) cast as xs:decimal</test>
      <result>
         <assert-string-value>12678967.543233</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds20">
      <description> Simple test for casting a decimal as a integer - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:decimal) cast as xs:integer</test>
      <result>
         <any-of>
            <assert-eq>12678967</assert-eq>
            <error code="FORG0001"/>
         </any-of>
      </result>
   </test-case>

   <test-case name="casthcds21">
      <description> Simple test for casting a decimal as a boolean - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:decimal) cast as xs:boolean</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds22">
      <description> Simple test for casting an integer as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:string</test>
      <result>
         <assert-string-value>12678967543233</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds23">
      <description> Simple test for casting an integer as a float - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; ((/atomic:root/atomic:integer) cast as xs:float) eq xs:float(12678967543233)</test>
      <result>
         <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds24">
      <description> Simple test for casting an integer as a double - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:double</test>
      <result>
         <assert-string-value>1.2678967543233E13</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds25">
      <description> Simple test for casting an integer as a decimal - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:decimal</test>
      <result>
         <assert-eq>12678967543233</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds26">
      <description> Simple test for casting an integer as an integer - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:integer</test>
      <result>
         <assert-eq>12678967543233</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds27">
      <description> Simple test for casting an integer as a boolean - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:integer) cast as xs:boolean</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="casthcds28">
      <description> Simple test for casting an dateTime as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:dateTime) cast as xs:string</test>
      <result>
         <assert-string-value>2002-04-02T12:00:00Z</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds29">
      <description> Simple test for casting an dateTime as a dateTime - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:dateTime) cast as xs:dateTime</test>
      <result>
         <assert-string-value>2002-04-02T12:00:00Z</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds30">
      <description> Simple test for casting an dateTime as a time - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:dateTime) cast as xs:time</test>
      <result>
            <assert-string-value>12:00:00Z</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds31">
      <description> Simple test for casting an dateTime as a date - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:dateTime) cast as xs:date</test>
      <result>
            <assert-string-value>2002-04-02Z</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds32">
      <description> Simple test for casting an date as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:date) cast as xs:string</test>
      <result>
         <assert-string-value>2000-01-01+05:00</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds33">
      <description> Simple test for casting an date as a dateTime - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:date) cast as xs:dateTime</test>
      <result>
            <assert-string-value>2000-01-01T00:00:00+05:00</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds34">
      <description> Simple test for casting an date as a date - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:date) cast as xs:date</test>
      <result>
         <assert-string-value>2000-01-01+05:00</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds35">
      <description> Simple test for casting an xs:time as a string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:time) cast as xs:string</test>
      <result>
         <assert-string-value>13:20:10.5Z</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds36">
      <description> Simple test for casting an xs:time as an xs:time - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:time) cast as xs:time</test>
      <result>
         <assert-string-value>13:20:10.5Z</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds37">
      <description> Simple test for casting a boolean as string - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>
        import schema namespace atomic="http://www.w3.org/XQueryTest"; 
        (/atomic:root/atomic:boolean) cast as xs:string</test>
      <result>
         <assert-string-value>true</assert-string-value>
      </result>
   </test-case>

   <test-case name="casthcds38">
      <description> Simple test for casting a boolean as float - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:boolean) cast as xs:float</test>
      <result>
            <assert-eq>1</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds39">
      <description> Simple test for casting a boolean as double - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:boolean) cast as xs:double</test>
      <result>
            <assert-eq>1</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds40">
      <description> Simple test for casting a boolean as decimal - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:boolean) cast as xs:decimal</test>
      <result>
            <assert-eq>1</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds41">
      <description> Simple test for casting a boolean as integer - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:boolean) cast as xs:integer</test>
      <result>
            <assert-eq>1</assert-eq>
      </result>
   </test-case>

   <test-case name="casthcds42">
      <description> Simple test for casting a boolean as boolean - XML Data Source </description>
      <created by="Carmelo Montanez" on="2005-03-08"/>
      <environment ref="atomic"/>
      <test>import schema namespace atomic="http://www.w3.org/XQueryTest"; (/atomic:root/atomic:boolean) cast as xs:boolean</test>
      <result>
         <assert-true/>
      </result>
   </test-case>
   
      <test-case name="user-defined-1">
      <description> Evaluation of simple user defined data type restricted from xs:integer. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $value := myType:sizeType(1) return $value</test>
      <result>
            <assert-eq>1</assert-eq>
      </result>
   </test-case>

   <test-case name="user-defined-2">
      <description> Evaluation of constructor function vioalation on user 
      defined data type restricted from xs:integer. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $value := myType:sizeType(20) return $value</test>
      <result>
            <error code="FORG0001"/>
      </result>
   </test-case>

   <test-case name="user-defined-3">
      <description> Evaluation of constructor function used as part of addition 
      operation user defined data type restricted from xs:integer. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $value := myType:sizeType(1) + myType:sizeType(2) return $value</test>
      <result>
            <assert-eq>3</assert-eq>
      </result>
   </test-case>

   <test-case name="user-defined-4">
      <description> Evaluation of simple user defined data type restricted from xs:string. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        let $value := myType:stringBased("valid value 4") return $value</test>
      <result>
            <assert-string-value>valid value 4</assert-string-value>
      </result>
   </test-case>

   <test-case name="user-defined-5">
      <description> Evaluation of constructor function operation on simple user 
      defined data type restricted from xs:string. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        fn:concat(myType:stringBased("valid value 4"),myType:stringBased("valid value 1"))</test>
      <result>
            <assert-string-value>valid value 4valid value 1</assert-string-value>
      </result>
   </test-case>

   <test-case name="user-defined-6">
      <description> use constructor function for user defined type and cast value 
      to base type (xs:integer) restricted from xs:integer. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:sizeType(2) cast as xs:integer</test>
      <result>
            <assert-eq>2</assert-eq>
      </result>
   </test-case>

   <test-case name="user-defined-7">
      <description> use constructor function for user defined type and check if it 
      is castable value to base type (xs:integer) restricted from xs:integer. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:sizeType(2) castable as xs:integer</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="user-defined-8">
      <description> Use constructor function to evaluate if two user defined types can be 
      casted to another. Restricted from xs:integer and xs;float. </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:sizeType(16) cast as myType:floatBased</test>
      <result>
            <assert-eq>16</assert-eq>
      </result>
   </test-case>

   <test-case name="user-defined-9">
      <description> Use constructor function to evaluate if two user defined types are castable to 
      another restricted from xs:integer and xs:float </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:sizeType(16) castable as myType:floatBased</test>
      <result>
            <assert-true/>
      </result>
   </test-case>

   <test-case name="user-defined-10">
      <description> Use constructor function to use addition operation on two user defined types. 
      Restricted from xs:integer and xs:float </description>
      <created by="Carmelo Montanez" on="2006-04-03"/>
      <environment ref="user-defined-types"/>
      <test>
        import schema namespace myType="http://www.w3.org/XQueryTest/userDefinedTypes"; 
        myType:sizeType(16) + myType:floatBased (16)</test>
      <result>
            <assert-eq>32</assert-eq>
      </result>
   </test-case>

       <test-case name="CastAs-UnionType-1">
       <description>Test the union type that should return an xs:integer value</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <modified by="Michael Kay" on="2012-05-27" change="add type assertion"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         123 cast as s:myUnionType1
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>           
       </result>
   </test-case>

    <test-case name="CastAs-UnionType-2">
       <description>Test the union type that should return an xs:integer value</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         "123" cast as s:myUnionType1
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>
       </result>
   </test-case>

    <test-case name="CastAs-UnionType-3">
       <description>Test the decimal value cast to the union type. Should return the xs:integer value</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         123.12 cast as s:myUnionType1
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>
       </result>
   </test-case>

    <test-case name="CastAs-UnionType-4">
       <description>Test the string of decimal value cast to union type. Should fail
       on the grounds that the string value is not in the lexical space of the union type</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         "123.12" cast as s:myUnionType1
       </test>
       <result><error code="FORG0001"/></result>
   </test-case>

   <test-case name="CastAs-UnionType-5">
       <description>Test cast to union type.</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        "IB123456789" cast as s:myUnionType2
       </test>
      <result> 
        <all-of>
           <assert-string-value>IB123456789</assert-string-value>
           <assert-type>xs:string</assert-type>
        </all-of>
      </result>
   </test-case>

    <test-case name="CastAs-UnionType-5a">
       <description>Test the string of decimal value cast to union type. Should fail
       on the grounds that the string value is not in the lexical space of the union type</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         "AD123456789" cast as s:myUnionType2
       </test>
      <result><error code="FORG0001"/></result>
   </test-case>

   <test-case name="CastAs-UnionType-6">
       <description>Test decimal value cast to a union type using a constructor function. 
          Should return an xs:integer value</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:myUnionType1(123.12) 
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-7">
       <description>Test decimal value cast to a union type using a constructor function
          supplied as a NamedFunctionRef. 
          Should return an xs:integer value</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         let $f := s:myUnionType1#1
         return $f(123.12) 
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>
       </result>
   </test-case>
   
  <test-case name="CastAs-UnionType-8">
       <description>Test decimal value cast to a union type using a constructor function
          found using function lookup. 
          Should return an xs:integer value</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         let $f := function-lookup(QName("http://www.w3.org/XQueryTest/unionListDefined", "myUnionType1"), 1)
         return $f(123.12) 
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-9">
       <description>Test decimal value cast to a union type using a constructor function
          found using partial function application. 
          Should return an xs:integer value</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         let $f := s:myUnionType1(?)
         return $f(123.12) 
       </test>
       <result>
         <all-of>
           <assert-string-value>123</assert-string-value>
           <assert-type>xs:integer</assert-type>
         </all-of>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-10">
       <description>Cast to a namespace-sensitive union type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         namespace-uri-from-QName("xs:integer" cast as s:sensitiveUnion)
       </test>
       <result>
         <all-of>
           <assert-string-value>http://www.w3.org/2001/XMLSchema</assert-string-value>
           <assert-type>xs:anyURI</assert-type>
         </all-of>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-11">
       <description>Constructor function for a namespace-sensitive union type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         namespace-uri-from-QName(s:sensitiveUnion('xs:integer'))
       </test>
       <result>
         <all-of>
           <assert-string-value>http://www.w3.org/2001/XMLSchema</assert-string-value>
           <assert-type>xs:anyURI</assert-type>
         </all-of>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-12">
       <description>Constructor function for a namespace-sensitive union type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:sensitiveUnion('xs:integer') instance of s:sensitiveUnion
       </test>
       <result>
         <assert-true/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-13">
       <description>Dynamic use of Constructor function for a namespace-sensitive union type;
         different namespace contexts. Fails because it's the NS context of
         function-lookup() that matters.</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         declare function local:f($f as function(*)) as item()* {
           <a xmlns:pre="http://example.com/ns">{namespace-uri-from-QName($f('pre:local'))}</a>
         };
         local:f(function-lookup(xs:QName('s:sensitiveUnion'), 1))
       ]]></test>
       <result>
         <error code="FORG0001"/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-14">
       <description>Dynamic use of Constructor function for a namespace-sensitive union type;
         different namespace contexts. Fails because it's the NS context of
         the NamedFunctionRef that matters.</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         declare function local:f($f as function(*)) as item()* {
           <a xmlns:pre="http://example.com/ns">{namespace-uri-from-QName($f('pre:local'))}</a>
         };
         local:f(s:sensitiveUnion#1)
       ]]></test>
       <result>
         <error code="FORG0001"/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-15">
       <description>Dynamic use of Constructor function for a namespace-sensitive union type;
         different namespace contexts. Fails because it's the NS context of
         the partial function application that matters.</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         declare function local:f($f as function(*)) as item()* {
           <a xmlns:pre="http://example.com/ns">{namespace-uri-from-QName($f('pre:local'))}</a>
         };
         local:f(s:sensitiveUnion(?)))
       ]]></test>
       <result>
         <error code="FORG0001"/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-16">
       <description>Constructor function for union type with facets</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:lowercaseName('xs:integer') instance of s:sensitiveUnion
       </test>
       <result>
         <assert-true/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-17">
       <description>Union type with facets cannot be used in SequenceType</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:lowercaseName('xs:integer') instance of s:lowercaseName
       </test>
       <result>
         <error code="XPST0051"/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-18">
       <description>Type of a constructor function for a union type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         let $f as function(xs:anyAtomicType) as s:sensitiveUnion := s:sensitiveUnion#1
         return $f('candlewick')
       </test>
       <result>
         <all-of>
           <assert-eq>'candlewick'</assert-eq>
           <assert-type>xs:NCName</assert-type>
         </all-of>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-19">
       <description>Cast to a union type from one of its member type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         node-name(<a/>) castable as s:sensitiveUnion
       ]]></test>
       <result>
         <assert-true/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-20">
       <description>Cast to a union type from one of its member type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         local-name-from-QName(s:sensitiveUnion(node-name(<a/>)))
       ]]></test>
       <result>
         <assert-string-value>a</assert-string-value>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-21">
       <description>Cast to a union type from a subtype of one of its member type</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:sensitiveUnion(xs:ID("zorobastic"))
       ]]></test>
       <result>
         <assert-string-value>zorobastic</assert-string-value>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-22">
       <description>Failing cast to a union type with facets</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:lowercaseName('xs:QName')
       </test>
       <result>
         <error code="FORG0001"/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-23">
       <description>Failing cast to a union type with facets</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         s:lowercaseName(xs:NCName('ABC123'))
       </test>
       <result>
         <error code="FORG0001"/>
       </result>
   </test-case>
   
   <test-case name="CastAs-UnionType-24">
       <description>Failing dynamic cast to a union type with facets</description>
       <created by="Michael Kay" on="2012-05-25"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test>
         xquery version "3.0";
         import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
         let $cast := s:lowercaseName#1
         return $cast(xs:NCName('ABC123'))
       </test>
       <result>
         <error code="FORG0001"/>
       </result>
   </test-case>

   <test-case name="CastAs-ListType-1">
       <description>Test the decimal value cast to the union type. Should return the xs:integer value</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
       xquery version "3.0";
       import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        s:decimalListType1("2 2.3")]]>
       </test>
       <result> <all-of>
           <assert-string-value>2 2.3</assert-string-value>
       </all-of></result>
   </test-case>

   <test-case name="CastAs-ListType-2">
       <description>Test the decimal value cast to the union type. Should return the xs:integer value</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
       xquery version "3.0";
       import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        s:myRestrictedList1("123 987 567 456")]]>
       </test>
       <result> <all-of>
           <assert-string-value>123 987 567 456</assert-string-value>
       </all-of></result>
   </test-case>


   <test-case name="CastAs-ListType-3">
       <description>Test the decimal value cast to the union type. Should return the xs:integer value</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
       xquery version "3.0";
       import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        s:myRestrictedList1("123 987 567 456")]]>
       </test>
       <result> <all-of>
           <assert-string-value>123 987 567 456</assert-string-value>
       </all-of></result>
   </test-case>


   <test-case name="CastAs-ListType-4">
       <description>Cast the expression to the defined list type.</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
       xquery version "3.0";
       import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        "text1 text2 text3" cast as s:strListType1]]>
       </test>
       <result> <all-of>
           <assert-string-value>text1 text2 text3</assert-string-value>
       </all-of></result>
   </test-case>

   <test-case name="CastAs-ListType-5">
       <description>Cast the expression to the defined list type. The test should fail as the base type for the list is decimal</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
       xquery version "3.0";
       import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        "1.1 2.1 text3" cast as s:decimalListType1]]>
       </test>
       <result><error code="FORG0001"/></result>
   </test-case>

   <test-case name="CastAs-ListType-6">
       <description>Cast the expression to the defined list type. The test should fail as the base type for the list is decimal</description>
       <created by="O'Neil Delpratt" on="2011-10-27"/>
       <environment ref="union-List-defined-Types"/>
       <dependency type="spec" value="XQ30+"/>
       <test><![CDATA[
       xquery version "3.0";
       import schema namespace s="http://www.w3.org/XQueryTest/unionListDefined";
        "1.1 2.1 3.1" cast as s:intListType1]]>
       </test>
       <result><error code="FORG0001"/></result>
   </test-case>

</test-set>